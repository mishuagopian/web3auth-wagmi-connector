{"version":3,"file":"web3authWagmiConnector.esm.js","sources":["../src/lib/connector.ts"],"sourcesContent":[null],"names":["IS_SERVER","window","ADAPTER_CACHE_KEY","Web3AuthConnector","Connector","constructor","config","defaultEvmDappModalConfig","web3AuthOptions","options","chainId","parseInt","chainConfig","chains","filter","x","id","defaultChainConfig","getChainConfig","CHAIN_NAMESPACES","EIP155","finalChainConfig","chainNamespace","length","rpcTarget","rpcUrls","default","displayName","name","tickerName","nativeCurrency","ticker","symbol","blockExplorer","blockExplorers","url","web3AuthInstance","Web3AuthCore","clientId","socialLoginAdapter","OpenloginAdapter","adapterSettings","torusWalletAdapter","TorusWalletAdapter","buttonPosition","loginSettings","verifier","initParams","buildEnv","metamaskAdapter","MetamaskAdapter","walletConnectV1Adapter","WalletConnectV1Adapter","bridge","qrcodeModal","QRCodeModal","configureAdapter","adapters","loginModal","LoginModal","theme","uiConfig","appLogo","version","adapterListener","displayErrorsOnModal","subscribeToLoginModalEvents","connect","init","adapterEventsPromise","subscribeToAdpaterConnectionEvents","open","elem","document","getElementById","style","zIndex","Promise","resolve","reject","once","ADAPTER_EVENTS","CONNECTED","console","log","connectedAdapterName","signer","getSigner","account","getAddress","provider","getProvider","on","onAccountsChanged","bind","onChainChanged","onDisconnect","chain","unsupported","ERRORED","err","initModal","allAdapters","Set","Object","keys","modalConfig","adapterNames","hasInAppWallets","initPromises","map","adapterName","adapter","cachedAdapter","type","ADAPTER_CATEGORY","EXTERNAL","subscribeToAdapterEvents","status","ADAPTER_STATUS","NOT_READY","autoConnect","IN_APP","addSocialLogins","WALLET_ADAPTERS","OPENLOGIN","getAdapterSocialLogins","loginMethodConfig","loginMethodsOrder","OPENLOGIN_PROVIDERS","error","READY","all","hasExternalWallets","some","showOnModal","initExternalWalletContainer","UserRejectedRequestError","getAccount","ethers","providers","Web3Provider","isAuthorized","getChainId","networkOptions","chainConfigProxy","chainID","normalizeChainId","Error","disconnect","logout","accounts","emit","isChainUnsupported","LOGIN_MODAL_EVENTS","LOGIN","params","connectTo","loginParams","INIT_EXTERNAL_WALLETS","initExternalWalletAdapters","externalWalletsInitialized","DISCONNECT","adaptersConfig","adaptersData","adapterPromises","race","then","adapterData","setTimeout","adapterInitResults","finalAdaptersConfig","forEach","result","addWalletLogins","showExternalWalletsOnly","walletAdapter","data","cacheWallet","DISCONNECTED","storageAvailable","storage","getItem","clearCache","CONNECTING","ADAPTER_DATA_UPDATED","walletName","setItem"],"mappings":"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"}